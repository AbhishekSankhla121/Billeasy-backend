# ğŸ“š Book Review API

A RESTful API built using **Node.js**, **Express.js**, and **MongoDB** that allows authenticated users to manage books and submit reviews.

---

## ğŸš€ Features

- User authentication with **JWT**
- Add and retrieve books with **pagination**, **filters**, and **search**
- Submit **one review per book per user**
- **Update** or **delete** your own review
- **Secure cookies** for storing tokens
- Modular, clean, and scalable structure

---

## ğŸ› ï¸ Tech Stack

- **Backend**: Node.js, Express.js
- **Database**: MongoDB with Mongoose ODM
- **Auth**: JWT (JSON Web Tokens)
- **Security**: HTTP-only, SameSite cookies

---

## ğŸ“‚ Project Structure
```
â””â”€â”€ ğŸ“Billeasy-backend
    â””â”€â”€ ğŸ“.devcontainer
        â””â”€â”€ ğŸ“Billeasy-backend
            â””â”€â”€ devcontainer.json
        â””â”€â”€ docker-compose.yml
     
    â””â”€â”€ ğŸ“Backend
        â””â”€â”€ .gitignore
        â””â”€â”€ ğŸ“.vscode
            â””â”€â”€ launch.json
            â””â”€â”€ settings.json
        â””â”€â”€ App.js
        â””â”€â”€ ğŸ“config
            â””â”€â”€ .env
            â””â”€â”€ databaseConnection.js
        â””â”€â”€ ğŸ“Controllers
            â””â”€â”€ bookController.js
            â””â”€â”€ reviewController.js
            â””â”€â”€ userController.js
        â””â”€â”€ dockerfile
        â””â”€â”€ index.js
        â””â”€â”€ ğŸ“middlewares
            â””â”€â”€ auth.js
            â””â”€â”€ catchAsyncError.js
            â””â”€â”€ Error.js
        â””â”€â”€ ğŸ“Models
            â””â”€â”€ book.js
            â””â”€â”€ review.js
            â””â”€â”€ user.js
        â””â”€â”€ package-lock.json
        â””â”€â”€ package.json
        â””â”€â”€ Readme
        â””â”€â”€ ğŸ“Routes
            â””â”€â”€ book.js
            â””â”€â”€ review.js
            â””â”€â”€ user.js
        â””â”€â”€ ğŸ“utils
            â””â”€â”€ errorHandler.js
            â””â”€â”€ sendtoken.js
    â””â”€â”€ .gitignore
    â””â”€â”€ README.md
```


ğŸ§± Database Schema
ğŸ”¸ User

{
  username: String,
  email: String (unique),
  password: String (hashed)
}


ğŸ”¸ Book

{
  title: String,
  author: String,
  description: String,
  genre: String,
  addedBy: ObjectId (User)
}
ğŸ”¸ Review

{
  book: ObjectId (Book),
  user: ObjectId (User),
  rating: Number (1-5),
  comment: String,
  createdAt / updatedAt: Date
}



ğŸ” 1. Register a New User
Endpoint:
POST http://localhost:3000/api/v1/user/signup
Request Body (JSON):

{
  "username": "abhishek",
  "email": "abhishek@example.com",
  "password": "password123"
}
ğŸ” 2. Login a User
Endpoint:
POST http://localhost:3000/api/v1/user/login
Request Body (JSON):

{
  "email": "abhishek@example.com",
  "password": "password123"
}
ğŸ’¡ After login, token is stored in an HTTP-only cookie (use Postman or browser to keep session).


ğŸ“˜ 3. Add a Book
Endpoint (Authenticated):

POST http://localhost:3000/api/v1/books
Request Body (JSON):
{
  "title": "Clean Code",
  "author": "Robert C. Martin",
  "description": "A handbook of agile software craftsmanship",
  "genre": "Programming"
}

â­ 4. Submit a Review for a Book
Endpoint (Authenticated):
POST http://localhost:3000/api/v1/books/BOOK_ID_HERE/reviews
Request Body (JSON):
{
  "rating": 4,
  "comment": "Great insights into clean coding practices!"
}
Replace BOOK_ID_HERE with the actual book's MongoDB _id.



âœ… Bonus: Query Example (Optional Filters)
Get books by a specific author (with pagination):
GET http://localhost:3000/api/v1/books?page=1&limit=5&author=abhishek


Search books by title or author (partial match):
GET http://localhost:3000/api/v1/search?query=clean